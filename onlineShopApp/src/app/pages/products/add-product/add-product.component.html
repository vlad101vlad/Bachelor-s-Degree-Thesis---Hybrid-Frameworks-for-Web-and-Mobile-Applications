<ion-content class="ion-padding">
  <ion-row>
    <ion-col size="3"></ion-col>
    <ion-col size="6" class="ion-text-center">
        <img #userImage [src]="imageSource">
    </ion-col>
    <ion-col size="3">
      <ion-fab vertical="bottom" horizontal="end">
        <ion-fab-button
          color="primary"
          size="small"
          (click)="selectImageSource()"
        >
          <ion-icon name="add"></ion-icon>
        </ion-fab-button>
      </ion-fab>
      <ion-fab vertical="bottom" horizontal="end" slot="fixed">
        <input
          type="file"
          #fileInput
          (change)="uploadFile($event)"
          hidden="true"
          accept="image/*"
        />
      </ion-fab>
    </ion-col>
  </ion-row>

  <form (ngSubmit)="save()" [formGroup]="newProductForm">
    <ion-item lines="none">
      <ion-icon slot="start" name="text-outline"></ion-icon>
      <ion-input
        type="text"
        formControlName="title"
        placeholder="Title"
      ></ion-input>
    </ion-item>

    <ion-item>
      <ion-icon slot="start" name="file-tray-full-outline"></ion-icon>
      <ion-select
        formControlName="category"
        placeholder="Category">
        <ion-select-option *ngFor="let category of getCategoriesArray()">{{category}}</ion-select-option>
      </ion-select>
    </ion-item>


    <ion-item lines="none">
      <ion-icon slot="start" name="document-text-outline"></ion-icon>
      <ion-textarea
        type="text"
        formControlName="description"
        placeholder="Description"
      ></ion-textarea>
    </ion-item>

    <ion-item lines="none">
      <ion-icon slot="start" name="pricetag-outline"></ion-icon>
      <ion-input type="number"
                 formControlName="price"
                 placeholder="Price"
      ></ion-input>
    </ion-item>

    <ion-button
      expand="block"
      color="primary"
      strong="true"
      type="submit"
      class="ion-margin-top"
      [disabled]="!newProductForm.valid"
    >
      Confirm
    </ion-button>
  </form>
</ion-content>
